<!doctype html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moda Studio | Shop</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        .shop-hero {
            position: relative;
            border-radius: 24px;
            overflow: hidden;
            padding: 2.5rem 2rem;
            background: radial-gradient(circle at top left, #e0e7ff 0, transparent 45%),
                radial-gradient(circle at bottom right, #fee2e2 0, transparent 45%),
                linear-gradient(135deg, #0f172a 0%, #111827 45%, #020617 100%);
            color: #f9fafb;
        }

        .shop-hero-label {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.35em;
            color: rgba(248, 250, 252, 0.75);
        }

        .shop-hero-title {
            font-size: clamp(2rem, 3vw, 2.6rem);
            font-weight: 700;
            letter-spacing: 0.08em;
            text-transform: uppercase;
        }

        .shop-hero-pill {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            border-radius: 999px;
            padding: 0.4rem 0.9rem;
            background: rgba(15, 23, 42, 0.9);
            border: 1px solid rgba(148, 163, 184, 0.6);
            font-size: 0.75rem;
            color: #e5e7eb;
        }

        .shop-hero-cta {
            border-radius: 999px;
            padding-inline: 1.6rem;
            font-size: 0.85rem;
            letter-spacing: 0.16em;
            text-transform: uppercase;
        }

        .shop-hero-badge {
            border-radius: 999px;
            padding: 0.4rem 0.9rem;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(148, 163, 184, 0.5);
            font-size: 0.75rem;
            color: #e5e7eb;
        }

        .shop-hero-badge i {
            color: #22c55e;
        }

        @media (max-width: 768px) {
            .shop-hero {
                padding: 2rem 1.5rem;
            }
        }
    </style>
</head>

<body class="<%= theme === 'dark' ? 'theme-dark' : 'theme-light' %>">
    <%- include('partials/header') %>

        <main class="site-main">
            <section class="py-5">
                <div class="container">
                    <div class="shop-hero mb-4">
                        <div class="row g-4 align-items-center">
                            <div class="col-lg-7">
                                <p class="shop-hero-label mb-2">MODA STUDIO / SHOP</p>
                                <h1 class="shop-hero-title mb-3">New Season Essentials</h1>
                                <p class="mb-4 text-secondary" style="max-width: 420px; font-size: 0.95rem;">
                                    Khám phá những thiết kế mới nhất, được tuyển chọn kỹ lưỡng cho phong cách hiện đại,
                                    tối giản nhưng nổi bật.
                                </p>
                                <div class="d-flex flex-wrap align-items-center gap-2">
                                    <span class="shop-hero-pill">
                                        <span class="rounded-circle bg-light" style="width: 8px; height: 8px;"></span>
                                        Hàng mới về mỗi tuần
                                    </span>
                                    <button type="button" class="btn btn-light shop-hero-cta"
                                        onclick="window.scrollTo({ top: document.getElementById('product-root').offsetTop - 100, behavior: 'smooth' })">
                                        Shop now
                                    </button>
                                </div>
                            </div>
                            <div class="col-lg-5 d-flex justify-content-lg-end">
                                <div class="d-flex flex-column align-items-start align-items-lg-end gap-2 text-sm-end">
                                    <span class="shop-hero-badge">
                                        <i class="bi bi-stars me-1"></i>
                                        Premium fabrics, curated fit
                                    </span>
                                    <span class="shop-hero-badge">
                                        <i class="bi bi-truck me-1"></i>
                                        Giao hàng nhanh toàn quốc
                                    </span>
                                    <span class="shop-hero-badge">
                                        <i class="bi bi-arrow-repeat me-1"></i>
                                        Đổi trả trong 7 ngày
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <% if (errorMessage) { %>
                        <div class="alert alert-danger text-center">
                            <%= errorMessage %>
                        </div>
                        <% } %>

                            <div id="product-root"></div>
                            <script type="application/json" id="product-categories-data">
                    <%- JSON.stringify(categories || []) %>
                </script>
                </div>
            </section>
        </main>

        <%- include('partials/footer') %>

            <script>
                (function () {
                    const node = document.getElementById("product-categories-data");
                    let parsed = [];
                    if (node && node.textContent) {
                        try {
                            parsed = JSON.parse(node.textContent);
                        } catch (error) {
                            parsed = [];
                        }
                    }
                    window.__PRODUCT_LISTING__ = { categories: parsed };
                })();
            </script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
            <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
            <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
            <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
            <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
            <script type="text/babel" data-presets="env,react" src="/js/ProductListing.jsx"></script>
</body>

</html>